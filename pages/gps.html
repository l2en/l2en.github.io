<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DASHBOARD</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #000;
      font-family: 'Arial', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      overflow: hidden;
    }

    .dashboard {
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at center, #1a1a1a 0%, #000 70%);
      position: relative;
      border-radius: 20px;
      padding: 0 30px;
      box-sizing: border-box;
      position: relative;
      z-index: 2;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 20px;
      transition: padding 1s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .dashboard_init {
      padding-left: 15px !important;
      padding-right: 15px !important;
    }

    /* å·¦ä¾§è½¬é€Ÿè¡¨ */
    .gauge-left {
      position: relative;
      z-index: 3;
      top: 0;
      flex-shrink: 0;
      transition: top 1s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .gauge-left_init {
      top: 100px !important;
    }

    /* å³ä¾§é€Ÿåº¦è¡¨ */
    .gauge-right {
      position: relative;
      z-index: 3;
      top: 0;
      flex-shrink: 0;
      transition: top 1s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .gauge-right_init {
      top: 100px !important;
    }

    .gauge {
      width: 30vw;
      height: 30vw;
      position: relative;
      transition: width 1s cubic-bezier(0.4, 0, 0.2, 1),
        height 1s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .gauge_init {
      width: 15vw !important;
      height: 15vw !important;
    }

    .gauge-bg {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: radial-gradient(circle, #0a0a0a 0%, #000 70%);
      border: 3px solid #444;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.8) inset,
        0 0 30px rgba(255, 255, 255, 0.8);
    }

    .gauge-scale {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
    }

    .scale-mark {
      position: absolute;
      width: 2px;
      height: 12px;
      background: #fff;
      left: 50%;
      top: 15px;
      transform-origin: 50% 125px;
    }

    .scale-mark.major {
      height: 18px;
      width: 3px;
    }

    .scale-number {
      position: absolute;
      color: #fff;
      font-size: 20px;
      font-weight: bold;
      left: 50%;
      top: 35px;
      transform-origin: 50% 105px;
      width: 40px;
      text-align: center;
      margin-left: -20px;
    }

    /* ä¸­å¿ƒæ˜¾ç¤ºåŒºåŸŸ */
    .gauge-center {
      position: absolute;
      width: 17vw;
      height: 17vw;
      background: #000;
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: 2px solid #333;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition: width 1s cubic-bezier(0.4, 0, 0.2, 1),
        height 1s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .gauge_init .gauge-center {
      width: 8.5vw;
      height: 8.5vw;
    }

    .fuel-indicator {
      width: 120px;
      height: 30px;
      position: relative;
      margin-bottom: 10px;
    }

    .fuel-bar {
      width: 100%;
      height: 4px;
      background: #333;
      position: relative;
      top: 15px;
    }

    .fuel-level {
      width: 33%;
      height: 100%;
      background: #fff;
    }

    .fuel-icon {
      position: absolute;
      right: 0;
      top: 0;
      color: #fff;
      font-size: 18px;
    }

    .gear-display {
      font-size: 8vw;
      color: #fff;
      font-weight: bold;
      margin: 10px 0;
      transition: font-size 1s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .gauge_init .gear-display {
      font-size: 4vw;
    }

    .mode-text {
      color: #ff0000;
      font-size: 14px;
      font-weight: bold;
      margin-top: 5px;
    }

    .ready-text {
      color: #888;
      font-size: 12px;
    }

    .rpm-scale {
      position: absolute;
      bottom: -25px;
      left: 50%;
      transform: translateX(-50%);
      color: #888;
      font-size: 11px;
      white-space: nowrap;
    }

    /* æŒ‡é’ˆ */
    .needle {
      position: absolute;
      width: 4px;
      height: 11.5vw;
      background: linear-gradient(to top, #ff0000 0%, #ff0000 70%, #fff 100%);
      bottom: 50%;
      left: 50%;
      transform-origin: 50% 100%;
      transform: translateX(-50%) rotate(-120deg);
      border-radius: 2px 2px 0 0;
      box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
      z-index: 10;
      transition: height 1s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .gauge_init .needle {
      height: 5.75vw;
    }

    /* æ‹–å½±æŒ‡é’ˆ */
    .needle-trail {
      position: absolute;
      width: 4px;
      height: 110px;
      background: linear-gradient(to top, rgba(255, 0, 0, 0.3) 0%, rgba(255, 0, 0, 0.3) 70%, rgba(255, 255, 255, 0.3) 100%);
      bottom: 50%;
      left: 50%;
      transform-origin: 50% 100%;
      transform: translateX(-50%) rotate(-120deg);
      border-radius: 2px 2px 0 0;
      z-index: 9;
      pointer-events: none;
    }

    .needle-center {
      position: absolute;
      width: 20px;
      height: 20px;
      background: #333;
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: 2px solid #666;
      z-index: 11;
      transition: width 1s cubic-bezier(0.4, 0, 0.2, 1),
        height 1s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .gauge_init .needle-center {
      width: 10px;
      height: 10px;
    }

    /* ä¸­å¤®ä¿¡æ¯é¢æ¿ */
    .center-panel {
      position: relative;
      flex: 1;
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      min-width: 0;
    }
    
    /* æ™®é€šæ¨¡å¼è§†å›¾ */
    .center-panel-normal {
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transform: scale(0.95);
      transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                  transform 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                  visibility 0s 0.5s;
      pointer-events: none;
    }
    
    .center-panel-normal.active {
      opacity: 1;
      visibility: visible;
      transform: scale(1);
      pointer-events: auto;
      transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                  transform 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                  visibility 0s 0s;
    }
    
    /* Navi æ¨¡å¼è§†å›¾ */
    .center-panel-navi {
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      opacity: 0;
      visibility: hidden;
      transform: scale(1.05);
      transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                  transform 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                  visibility 0s 0.5s;
      pointer-events: none;
    }
    
    .center-panel-navi.active {
      opacity: 1;
      visibility: visible;
      transform: scale(1);
      pointer-events: auto;
      transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                  transform 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                  visibility 0s 0s;
    }

    .center-panel-map {
      position: absolute;
      width: 130%;
      height: 120%;
      left: 50%;
      top: 0;
      transform: translateX(-50%);
      /* å±…ä¸­å¯¹é½ */
      background-image: url('./map.png');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      clip-path: polygon(
        8% 0%,
        92% 0%,
        100% 15%,
        100% 85%,
        92% 100%,
        8% 100%,
        0% 85%,
        0% 15%
      );
      z-index: 1;
    }
    
    .center-panel-navi .center-panel-map {
      z-index: 1;
    }
    
    .center-panel-map::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at center, 
                  rgba(0, 0, 0, 0.3) 0%, 
                  rgba(0, 0, 0, 0.6) 70%, 
                  rgba(0, 0, 0, 0.8) 100%);
      pointer-events: none;
    }
    


    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      margin-bottom: 20px;
    }
    
    /* Navi æ¨¡å¼é¡¶éƒ¨æ  */
    .navi-top-bar {
      position: relative;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 30px;
      z-index: 100;
      background: rgba(0, 0, 0, 0.3);
    }
    
    .navi-info-group {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .navi-time-group {
      flex: 1;
      display: flex;
      justify-content: center;
    }
    
    .navi-time-group .time-display {
      font-size: 36px;
      margin: 0;
    }
    
    .navi-date-group {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .navi-date-group .weekday,
    .navi-date-group .date-display {
      position: static;
      top: auto;
      left: auto;
      margin: 0;
    }

    .auto-indicator {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .light-icon {
      width: 30px;
      height: 20px;
      position: relative;
    }

    .light-icon::before,
    .light-icon::after {
      content: '';
      position: absolute;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #00ff00;
      box-shadow: 0 0 10px #00ff00;
    }

    .light-icon::before {
      left: 0;
    }

    .light-icon::after {
      right: 0;
    }

    .auto-text {
      color: #fff;
      font-size: 14px;
      font-weight: bold;
    }

    .fuel-warning {
      background: #ff0000;
      color: #fff;
      padding: 5px 10px;
      font-size: 13px;
      font-weight: bold;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      position: relative;
      left: 0;
      transition: left 1s cubic-bezier(0.4, 0, 0.2, 1);
    }



    .warning-message {
      color: #aaa;
      font-size: 13px;
    }

    .warning-icons {
      display: flex;
      gap: 10px;
      color: #888;
      font-size: 16px;
    }

    .date-time-section {
      margin: 30px 0;
    }

    .section-title {
      color: #888;
      font-size: 14px;
      margin-bottom: 10px;
      border-bottom: 1px solid #333;
      padding-bottom: 5px;
      opacity: 1;
      transition: opacity 1s cubic-bezier(0.4, 0, 0.2, 1);
    }



    .time-display {
      font-size: 48px;
      color: #fff;
      font-weight: 300;
      margin: 10px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      position: relative;
      top: 0;
      transition: top 1s cubic-bezier(0.4, 0, 0.2, 1);
    }



    .mute-icon {
      font-size: 24px;
      color: #888;
    }

    .date-display {
      color: #fff;
      font-size: 16px;
      margin-top: 5px;
      position: relative;
      top: 0;
      left: 0;
      transition: top 1s cubic-bezier(0.4, 0, 0.2, 1),
        left 1s cubic-bezier(0.4, 0, 0.2, 1);
    }



    .weekday {
      color: #aaa;
      font-size: 14px;
      position: relative;
      top: 0;
      left: 0;
      transition: top 1s cubic-bezier(0.4, 0, 0.2, 1),
        left 1s cubic-bezier(0.4, 0, 0.2, 1);
    }



    .bottom-info {
      display: flex;
      justify-content: space-between;
      margin-top: 30px;
      padding: 0 20px;
    }

    .info-item {
      text-align: center;
    }

    .info-value {
      color: #fff;
      font-size: 24px;
      font-weight: bold;
    }

    .info-label {
      color: #888;
      font-size: 12px;
      margin-top: 5px;
    }

    .temp-display {
      position: absolute;
      right: 80px;
      bottom: 180px;
      color: #fff;
      font-size: 18px;
    }

    /* é€Ÿåº¦è¡¨ä¸­å¿ƒ */
    .speed-center {
      position: absolute;
      width: 17vw;
      height: 17vw;
      background: #000;
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: 2px solid #333;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition: width 1s cubic-bezier(0.4, 0, 0.2, 1),
        height 1s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .gauge_init .speed-center {
      width: 8.5vw;
      height: 8.5vw;
    }

    .speed-value {
      font-size: 8vw;
      color: #fff;
      font-weight: 300;
      line-height: 1;
      transition: font-size 1s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .gauge_init .speed-value {
      font-size: 4vw;
    }

    .speed-unit {
      color: #888;
      font-size: 16px;
      margin-top: 5px;
    }

    /* çº¢è‰²åŒºåŸŸ */
    .red-zone {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
    }

    .red-arc {
      position: absolute;
      width: 50px;
      height: 12px;
      background: #ff0000;
      right: 25px;
      top: 80px;
      transform-origin: left center;
      border-radius: 0 6px 6px 0;
    }

    /* NaviæŒ‰é’® */
    .navi-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 10px 20px;
      background: rgba(255, 255, 255, 0.1);
      color: #fff;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      font-weight: bold;
      z-index: 1000;
      transition: all 0.3s;
    }

    .navi-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.5);
    }

    /* å…¨å±æŒ‰é’® */
    .fullscreen-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 10px 20px;
      background: rgba(255, 255, 255, 0.1);
      color: #fff;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      font-weight: bold;
      z-index: 1000;
      transition: all 0.3s;
    }

    .fullscreen-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.5);
    }

    /* å†…è¾¹è·æ§åˆ¶å™¨ */
    .padding-control {
      position: fixed;
      bottom: 20px;
      left: 20px;
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 10px;
      background: rgba(0, 0, 0, 0.5);
      padding: 10px 15px;
      border-radius: 5px;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .padding-control label {
      color: #fff;
      font-size: 12px;
      white-space: nowrap;
    }

    .padding-control input[type="range"] {
      width: 150px;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      outline: none;
      border-radius: 2px;
      cursor: pointer;
    }

    .padding-control input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 16px;
      height: 16px;
      background: #fff;
      border-radius: 50%;
      cursor: pointer;
    }

    .padding-control input[type="range"]::-moz-range-thumb {
      width: 16px;
      height: 16px;
      background: #fff;
      border-radius: 50%;
      cursor: pointer;
      border: none;
    }

    .padding-value {
      color: #fff;
      font-size: 12px;
      min-width: 35px;
      text-align: right;
    }

    /* ç¼©æ”¾æ§åˆ¶å™¨ */
    .scale-control {
      position: fixed;
      bottom: 80px;
      left: 20px;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      background: rgba(0, 0, 0, 0.5);
      padding: 15px 10px;
      border-radius: 5px;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .scale-control label {
      color: #fff;
      font-size: 12px;
      white-space: nowrap;
      writing-mode: horizontal-tb;
    }

    .scale-control input[type="range"] {
      width: 150px;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      outline: none;
      border-radius: 2px;
      cursor: pointer;
      transform: rotate(-90deg);
      transform-origin: center;
    }

    .scale-control input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 16px;
      height: 16px;
      background: #fff;
      border-radius: 50%;
      cursor: pointer;
    }

    .scale-control input[type="range"]::-moz-range-thumb {
      width: 16px;
      height: 16px;
      background: #fff;
      border-radius: 50%;
      cursor: pointer;
      border: none;
    }

    .scale-value {
      color: #fff;
      font-size: 12px;
      text-align: center;
    }

    /* ä¸­å¤®é¢æ¿å…ƒç´ éšè—è¿‡æ¸¡ */
    .center-panel-normal > *,
    .center-panel-navi > * {
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .center-panel-normal > *.hidden-by-overlap,
    .center-panel-navi > *.hidden-by-overlap {
      opacity: 0 !important;
      visibility: hidden !important;
    }
  </style>
</head>

<body>
  <div class="dashboard dashboard_init">
    <!-- å·¦ä¾§è½¬é€Ÿè¡¨ -->
    <div class="gauge-left gauge-left_init">
      <div class="gauge gauge_init">
        <div class="gauge-bg"></div>
        <svg class="gauge-scale" viewBox="0 0 280 280">
          <!-- åˆ»åº¦çº¿å’Œæ•°å­—å°†é€šè¿‡JavaScriptç”Ÿæˆ -->
        </svg>
        <div class="red-zone">
        </div>
        <!-- æ‹–å½±æŒ‡é’ˆ -->
        <div class="needle" id="rpmTrail1"></div>
        <div class="needle" id="rpmNeedle"></div>
        <div class="needle-center"></div>
        <div class="gauge-center">
          <div class="gear-display">S</div>
          <div class="ready-text">READY</div>
          <div class="mode-text">DYNAMIC</div>
        </div>
        <div class="rpm-scale">1 / min x 1000</div>
      </div>
    </div>

    <!-- ä¸­å¤®ä¿¡æ¯é¢æ¿ -->
    <div class="center-panel">
      <!-- æ™®é€šæ¨¡å¼è§†å›¾ -->
      <div class="center-panel-normal" id="normalView">
        <div class="center-panel-map"></div>
        <div class="top-bar">
          <div class="auto-indicator">
            <div class="light-icon"></div>
            <span class="auto-text">AUTO</span>
          </div>
          <div class="fuel-warning">
            <span>â›½</span>
            <span id="fuelNormal">470km</span>
          </div>
          <div class="warning-message">ğŸµ å¬é›¨çš„å£°éŸ³...</div>
        </div>

        <div class="date-time-section">
          <div class="section-title">æ—¥æœŸå’Œæ—¶é—´</div>
          <div class="time-display">
            <span id="timeDisplay">13:01</span>
          </div>
          <div class="weekday" id="weekday">å‘¨å››</div>
          <div class="date-display" id="date-display">24.6.2021</div>
        </div>

        <div class="bottom-info">
          <div class="info-item">
            <div class="info-value">8246<span style="font-size:14px;">km</span></div>
            <div class="info-label">13:01</div>
          </div>
          <div class="info-item">
            <div class="info-value">705.6<span style="font-size:14px;">km</span></div>
            <div class="info-label">+28.0Â°C</div>
          </div>
        </div>
      </div>

      <!-- Navi æ¨¡å¼è§†å›¾ -->
      <div class="center-panel-navi" id="naviView">
        <div class="center-panel-map"></div>
        <div class="navi-top-bar">
          <div class="navi-info-group">
            <div class="auto-indicator">
              <div class="light-icon"></div>
              <span class="auto-text">AUTO</span>
            </div>
            <div class="fuel-warning">
              <span>â›½</span>
              <span id="fuelNavi">470km</span>
            </div>
          </div>
          <div class="navi-time-group">
            <div class="time-display">
              <span id="timeDisplayNavi">13:01</span>
            </div>
          </div>
          <div class="navi-date-group">
            <div class="weekday" id="weekdayNavi">å‘¨å››</div>
            <div class="date-display" id="dateDisplayNavi">24.6.2021</div>
          </div>
          <div class="warning-message">ğŸµ å¬é›¨çš„å£°éŸ³...</div>
        </div>
      </div>
    </div>""

    <!-- å³ä¾§é€Ÿåº¦è¡¨ -->
    <div class="gauge-right gauge-right_init">
      <div class="gauge gauge_init">
        <div class="gauge-bg"></div>
        <!-- é€Ÿåº¦è¡¨çº¢è‰²å±é™©åŒºåŸŸ (80%ä»¥ä¸Š) -->
        <svg class="speed-red-zone" viewBox="0 0 280 280"
          style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;">
          <!-- çº¢è‰²åŒºåŸŸå°†é€šè¿‡JavaScriptç”Ÿæˆ -->
        </svg>
        <svg class="gauge-scale" viewBox="0 0 280 280">
          <!-- åˆ»åº¦çº¿å’Œæ•°å­—å°†é€šè¿‡JavaScriptç”Ÿæˆ -->
        </svg>
        <div class="needle" id="speedNeedle"></div>
        <div class="needle-center"></div>
        <div class="speed-center">
          <div class="speed-value" id="speedValue">0</div>
          <div class="speed-unit">km/h</div>
        </div>
      </div>
    </div>
  </div>

  <!-- NaviæŒ‰é’® -->
  <button class="navi-btn" id="naviBtn">NAVI</button>

  <!-- å…¨å±æŒ‰é’® -->
  <button class="fullscreen-btn" id="fullscreenBtn">FULL</button>

  <!-- å†…è¾¹è·æ§åˆ¶å™¨ -->
  <div class="padding-control">
    <label>Padding:</label>
    <input type="range" id="paddingSlider" min="0" max="200" value="30" step="1">
    <span class="padding-value" id="paddingValue">30px</span>
  </div>

  <!-- ç¼©æ”¾æ§åˆ¶å™¨ -->
  <div class="scale-control">
    <label>Scale</label>
    <input type="range" id="scaleSlider" min="0.5" max="5" value="1" step="0.1">
    <span class="scale-value" id="scaleValue">1.0x</span>
  </div>

</body>
<script>
  let showCtrl = true;
  // ========== é…ç½®å˜é‡ ==========
  // é€Ÿåº¦è¡¨æœ€é«˜é€Ÿåº¦ (km/h) - å¯ä»¥ä¿®æ”¹è¿™ä¸ªå€¼æ¥æ”¹å˜é€Ÿåº¦è¡¨çš„æœ€å¤§åˆ»åº¦
  const MAX_SPEED = 120;

  // é€Ÿåº¦è¡¨çº¢è‰²å±é™©åŒºåŸŸé¢œè‰² (æ”¯æŒ16è¿›åˆ¶è‰²å€¼)
  const RED_ZONE_COLOR = '#cc0000';  // å¯ä»¥æ”¹ä¸ºä»»ä½•16è¿›åˆ¶é¢œè‰²ï¼Œå¦‚ '#ff6600', '#cc0000' ç­‰

  // çº¢è‰²å±é™©åŒºåŸŸé€æ˜åº¦ (0-1ä¹‹é—´)
  const RED_ZONE_OPACITY = 1;

  // ========== ä»ªè¡¨ç›˜é…ç½® ==========
  // ç”Ÿæˆè½¬é€Ÿè¡¨åˆ»åº¦ (1-8 x1000 rpm)
  const rpmGauge = document.querySelector('.gauge-left .gauge-scale');
  const startAngle = -120;
  const endAngle = 120;
  const totalMarks = 56;

  for (let i = 0; i <= totalMarks; i++) {
    const angle = startAngle + (endAngle - startAngle) * (i / totalMarks);
    const mark = document.createElementNS('http://www.w3.org/2000/svg', 'line');

    const isMajor = i % 7 === 0;
    const radius = 130;
    const innerRadius = isMajor ? 110 : 118;

    const x1 = 140 + innerRadius * Math.cos((angle - 90) * Math.PI / 180);
    const y1 = 140 + innerRadius * Math.sin((angle - 90) * Math.PI / 180);
    const x2 = 140 + radius * Math.cos((angle - 90) * Math.PI / 180);
    const y2 = 140 + radius * Math.sin((angle - 90) * Math.PI / 180);

    mark.setAttribute('x1', x1);
    mark.setAttribute('y1', y1);
    mark.setAttribute('x2', x2);
    mark.setAttribute('y2', y2);
    mark.setAttribute('stroke', '#fff');
    mark.setAttribute('stroke-width', isMajor ? '3' : '2');

    rpmGauge.appendChild(mark);

    if (isMajor) {
      const number = document.createElementNS('http://www.w3.org/2000/svg', 'text');
      const value = Math.round(i / 7);
      const textRadius = 95;
      const x = 140 + textRadius * Math.cos((angle - 90) * Math.PI / 180);
      const y = 140 + textRadius * Math.sin((angle - 90) * Math.PI / 180);

      number.setAttribute('x', x);
      number.setAttribute('y', y);
      number.setAttribute('text-anchor', 'middle');
      number.setAttribute('dominant-baseline', 'middle');
      number.setAttribute('fill', '#fff');
      number.setAttribute('font-size', '20');
      number.setAttribute('font-weight', 'bold');
      number.textContent = value;

      rpmGauge.appendChild(number);
    }
  }

  // ç”Ÿæˆé€Ÿåº¦è¡¨çº¢è‰²å±é™©åŒºåŸŸ (80%ä»¥ä¸Š)
  const speedRedZone = document.querySelector('.speed-red-zone');
  // 80%å¯¹åº”çš„è§’åº¦ï¼š-120 + 240 * 0.8 = 72åº¦
  const redZoneStartAngle = -120 + 240 * 0.8; // 72åº¦
  const redZoneEndAngle = 120; // ç»“æŸè§’åº¦

  // åˆ›å»ºçº¢è‰²æ‰‡å½¢åŒºåŸŸ
  const redZonePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
  const centerX = 140;
  const centerY = 140;
  const outerRadius = 132;
  const innerRadius = 90;

  // è®¡ç®—è·¯å¾„åæ ‡
  const startAngleRad1 = (redZoneStartAngle - 90) * Math.PI / 180;
  const endAngleRad1 = (redZoneEndAngle - 90) * Math.PI / 180;

  const x1 = centerX + innerRadius * Math.cos(startAngleRad1);
  const y1 = centerY + innerRadius * Math.sin(startAngleRad1);
  const x2 = centerX + outerRadius * Math.cos(startAngleRad1);
  const y2 = centerY + outerRadius * Math.sin(startAngleRad1);
  const x3 = centerX + outerRadius * Math.cos(endAngleRad1);
  const y3 = centerY + outerRadius * Math.sin(endAngleRad1);
  const x4 = centerX + innerRadius * Math.cos(endAngleRad1);
  const y4 = centerY + innerRadius * Math.sin(endAngleRad1);

  const largeArcFlag = (redZoneEndAngle - redZoneStartAngle) > 180 ? 1 : 0;

  const pathData = `
            M ${x1} ${y1}
            L ${x2} ${y2}
            A ${outerRadius} ${outerRadius} 0 ${largeArcFlag} 1 ${x3} ${y3}
            L ${x4} ${y4}
            A ${innerRadius} ${innerRadius} 0 ${largeArcFlag} 0 ${x1} ${y1}
            Z
        `;

  // å°†16è¿›åˆ¶é¢œè‰²è½¬æ¢ä¸ºrgbaæ ¼å¼
  function hexToRgba(hex, alpha) {
    const r = parseInt(hex.slice(1, 3), 16);
    const g = parseInt(hex.slice(3, 5), 16);
    const b = parseInt(hex.slice(5, 7), 16);
    return `rgba(${r}, ${g}, ${b}, ${alpha})`;
  }

  redZonePath.setAttribute('d', pathData);
  redZonePath.setAttribute('fill', hexToRgba(RED_ZONE_COLOR, RED_ZONE_OPACITY));
  speedRedZone.appendChild(redZonePath);

  // ç”Ÿæˆé€Ÿåº¦è¡¨åˆ»åº¦ (0-MAX_SPEED km/h)
  const speedGauge = document.querySelector('.gauge-right .gauge-scale');
  const speedMarks = 60;

  for (let i = 0; i <= speedMarks; i++) {
    const angle = startAngle + (endAngle - startAngle) * (i / speedMarks);
    const mark = document.createElementNS('http://www.w3.org/2000/svg', 'line');

    const isMajor = i % 5 === 0;
    const radius = 130;
    const innerRadius = isMajor ? 110 : 118;

    const x1 = 140 + innerRadius * Math.cos((angle - 90) * Math.PI / 180);
    const y1 = 140 + innerRadius * Math.sin((angle - 90) * Math.PI / 180);
    const x2 = 140 + radius * Math.cos((angle - 90) * Math.PI / 180);
    const y2 = 140 + radius * Math.sin((angle - 90) * Math.PI / 180);

    mark.setAttribute('x1', x1);
    mark.setAttribute('y1', y1);
    mark.setAttribute('x2', x2);
    mark.setAttribute('y2', y2);
    mark.setAttribute('stroke', '#fff');
    mark.setAttribute('stroke-width', isMajor ? '3' : '2');

    speedGauge.appendChild(mark);

    if (isMajor) {
      const number = document.createElementNS('http://www.w3.org/2000/svg', 'text');
      const value = Math.round((i / speedMarks) * MAX_SPEED);
      const textRadius = 95;
      const x = 140 + textRadius * Math.cos((angle - 90) * Math.PI / 180);
      const y = 140 + textRadius * Math.sin((angle - 90) * Math.PI / 180);

      number.setAttribute('x', x);
      number.setAttribute('y', y);
      number.setAttribute('text-anchor', 'middle');
      number.setAttribute('dominant-baseline', 'middle');
      number.setAttribute('fill', '#fff');
      number.setAttribute('font-size', value >= 100 ? '16' : '18');
      number.setAttribute('font-weight', 'bold');
      number.textContent = value;

      speedGauge.appendChild(number);
    }
  }

  // æ›´æ–°æ—¶é—´ã€æ—¥æœŸå’Œæ˜ŸæœŸ
  function updateTime() {
    const now = new Date();
    const hours = String(now.getHours()).padStart(2, '0');
    const minutes = String(now.getMinutes()).padStart(2, '0');
    const s = String(now.getSeconds()).padStart(2, '0');
    document.getElementById('timeDisplay').textContent = `${hours}:${minutes}:${s}`;
  }

  function updateDate() {
    const now = new Date();

    // æ›´æ–°æ˜ŸæœŸ
    const weekdays = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­'];
    const weekday = weekdays[now.getDay()];
    document.getElementById('weekday').textContent = weekday;

    // æ›´æ–°æ—¥æœŸ (æ ¼å¼: DD.M.YYYY)
    const day = now.getDate();
    const month = now.getMonth() + 1;
    const year = now.getFullYear();
    document.getElementById('date-display').textContent = `${year}.${day}.${month}`;
  }

  updateTime();
  updateDate();
  setInterval(updateTime, 1000);
  setInterval(updateDate, 60000); // æ¯åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡æ—¥æœŸ

  // åŠ¨ç”»æ•ˆæœ - æŒ‡é’ˆç§»åŠ¨
  let rpm = 0;
  let speed = 0;
  let rpmTarget = 7;
  let speedTarget = 0;
  let useGPS = false; // GPSæ¨¡å¼æ ‡å¿—

  // æ‹–å½±å†å²è®°å½• - å­˜å‚¨æ›´å¤šå¸§ä»¥è·å¾—æ›´å¹³æ»‘çš„æ‹–å½±
  const trailHistory = [];
  const trailLength = 15; // å¢åŠ å†å²è®°å½•é•¿åº¦
  const trailCount = 5; // æ˜¾ç¤ºçš„æ‹–å½±æ•°é‡

  function animateNeedles() {
    rpm += (rpmTarget - rpm) * 0.05;
    speed += (speedTarget - speed) * 0.05;

    // è®¡ç®—è§’åº¦
    // è½¬é€Ÿè¡¨ï¼š0-8 å¯¹åº” -120åº¦åˆ°120åº¦ï¼ˆå…±240åº¦ï¼‰
    const rpmAngle = -120 + (rpm / 8) * 240;
    // é€Ÿåº¦è¡¨ï¼š0-MAX_SPEED å¯¹åº” -120åº¦åˆ°120åº¦ï¼ˆå…±240åº¦ï¼‰
    const speedAngle = -120 + (speed / MAX_SPEED) * 240;

    // æ›´æ–°ä¸»æŒ‡é’ˆ
    document.getElementById('rpmNeedle').style.transform =
      `translateX(-50%) rotate(${rpmAngle}deg)`;
    document.getElementById('speedNeedle').style.transform =
      `translateX(-50%) rotate(${speedAngle}deg)`;

    // æ ¹æ®é€Ÿåº¦æŒ‡é’ˆè§’åº¦è®¡ç®—å¹¶æ˜¾ç¤ºé€Ÿåº¦å€¼
    // è§’åº¦èŒƒå›´ï¼š-120åº¦åˆ°120åº¦ï¼Œå¯¹åº”é€Ÿåº¦0-MAX_SPEED km/h
    const speedValue = Math.round(speed);
    document.getElementById('speedValue').textContent = speedValue;

    // æ›´æ–°æ‹–å½±å†å²
    trailHistory.push(rpmAngle);
    if (trailHistory.length > trailLength) {
      trailHistory.shift();
    }

    // æ›´æ–°æ‹–å½±æŒ‡é’ˆä½ç½® - ä»å†å²è®°å½•ä¸­å–æ ·
    if (trailHistory.length >= trailCount) {
      for (let i = 0; i < trailCount; i++) {
        const trailElement = document.getElementById(`rpmTrail${i + 1}`);
        if (trailElement) {
          // ä»å†å²è®°å½•ä¸­å‡åŒ€å–æ ·ï¼Œè¶Šé åçš„æ‹–å½±è¶Šè¿œ
          const historyIndex = trailHistory.length - 1 - Math.floor((i + 1) * (trailLength / trailCount));
          if (historyIndex >= 0 && historyIndex < trailHistory.length) {
            trailElement.style.transform =
              `translateX(-50%) rotate(${trailHistory[historyIndex]}deg)`;
            // æ ¹æ®è·ç¦»è°ƒæ•´é€æ˜åº¦ï¼Œè¶Šè¿œè¶Šæ·¡
            const opacity = 0.4 - (i * 0.07);
            trailElement.style.opacity = opacity;
          }
        }
      }
    }

    requestAnimationFrame(animateNeedles);
  }

  animateNeedles();

  function run() {
    if (!useGPS) {
      rpmTarget = Math.random() * 8;
      speedTarget = Math.random() * MAX_SPEED;
    }
  }
  // ç‚¹å‡»åˆ‡æ¢æ¨¡å¼æ¼”ç¤º
  document.querySelector('.dashboard').addEventListener('click', () => {
    run()
  });
  let time = 1000;
  setInterval(() => {
    run();
    // time = 5+Math.random()*5
  }, time)

  // ========== GPSé€Ÿåº¦è·å– ==========
  let gpsWatchId = null;

  function startGPSTracking() {
    if (!navigator.geolocation) {
      alert('æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒGPSå®šä½åŠŸèƒ½');
      return;
    }

    useGPS = true;

    gpsWatchId = navigator.geolocation.watchPosition(
      (position) => {
        // è·å–é€Ÿåº¦ï¼ˆç±³/ç§’ï¼‰
        const speedMPS = position.coords.speed;

        if (speedMPS !== null && speedMPS >= 0) {
          // è½¬æ¢ä¸ºå…¬é‡Œ/å°æ—¶
          const speedKMH = speedMPS * 3.6;

          // æ›´æ–°é€Ÿåº¦ç›®æ ‡å€¼
          speedTarget = Math.min(speedKMH, MAX_SPEED);

          console.log(`GPSé€Ÿåº¦: ${speedKMH.toFixed(1)} km/h`);
        } else {
          // GPSé€Ÿåº¦ä¸å¯ç”¨æ—¶ï¼Œè®¾ä¸º0
          speedTarget = 0;
        }
      },
      (error) => {
        console.error('GPSé”™è¯¯:', error.message);
        alert(`GPSå®šä½å¤±è´¥: ${error.message}\nè¯·ç¡®ä¿:\n1. ä½¿ç”¨HTTPSæˆ–localhost\n2. å·²æˆæƒä½ç½®æƒé™\n3. GPSä¿¡å·è‰¯å¥½`);
        useGPS = false;
      },
      {
        enableHighAccuracy: true, // é«˜ç²¾åº¦æ¨¡å¼
        maximumAge: 0,            // ä¸ä½¿ç”¨ç¼“å­˜
        timeout: 10000            // è¶…æ—¶æ—¶é—´10ç§’
      }
    );
  }

  function stopGPSTracking() {
    if (gpsWatchId !== null) {
      navigator.geolocation.clearWatch(gpsWatchId);
      gpsWatchId = null;
      useGPS = false;
      speedTarget = 0;
      console.log('GPSè¿½è¸ªå·²åœæ­¢');
    }
  }

  // è‡ªåŠ¨å¯åŠ¨GPSè¿½è¸ª
  setTimeout(() => {
    startGPSTracking();
  }, 2000); // é¡µé¢åŠ è½½2ç§’åå¯åŠ¨

  // ========== å…¨å±åŠŸèƒ½ï¼ˆå…¼å®¹iOS Safariï¼‰==========
  const fullscreenBtn = document.getElementById('fullscreenBtn');

  // æ£€æµ‹æ˜¯å¦ä¸ºå…¨å±çŠ¶æ€ï¼ˆå…¼å®¹å„æµè§ˆå™¨ï¼‰
  function isFullscreen() {
    return !!(document.fullscreenElement ||
      document.webkitFullscreenElement ||
      document.mozFullScreenElement ||
      document.msFullscreenElement);
  }

  // è¿›å…¥å…¨å±ï¼ˆå…¼å®¹å„æµè§ˆå™¨ï¼‰
  function enterFullscreen(element) {
    if (element.requestFullscreen) {
      return element.requestFullscreen();
    } else if (element.webkitRequestFullscreen) {
      // iOS Safari å’Œæ—§ç‰ˆ Safari
      return element.webkitRequestFullscreen();
    } else if (element.webkitEnterFullscreen) {
      // iOS Safari è§†é¢‘å…ƒç´ 
      return element.webkitEnterFullscreen();
    } else if (element.mozRequestFullScreen) {
      // Firefox
      return element.mozRequestFullScreen();
    } else if (element.msRequestFullscreen) {
      // IE11
      return element.msRequestFullscreen();
    }
    return Promise.reject(new Error('ä¸æ”¯æŒå…¨å±'));
  }

  // é€€å‡ºå…¨å±ï¼ˆå…¼å®¹å„æµè§ˆå™¨ï¼‰
  function exitFullscreen() {
    if (document.exitFullscreen) {
      return document.exitFullscreen();
    } else if (document.webkitExitFullscreen) {
      return document.webkitExitFullscreen();
    } else if (document.mozCancelFullScreen) {
      return document.mozCancelFullScreen();
    } else if (document.msExitFullscreen) {
      return document.msExitFullscreen();
    }
    return Promise.reject(new Error('ä¸æ”¯æŒé€€å‡ºå…¨å±'));
  }

  fullscreenBtn.addEventListener('click', () => {
    if (!isFullscreen()) {
      // è¿›å…¥å…¨å±
      enterFullscreen(document.documentElement).catch(err => {
        console.log('å…¨å±è¯·æ±‚å¤±è´¥:', err);
        // iOS Safari æç¤ºç”¨æˆ·æ‰‹åŠ¨å…¨å±
        alert('è¯·ç‚¹å‡»æµè§ˆå™¨åº•éƒ¨çš„åˆ†äº«æŒ‰é’®ï¼Œé€‰æ‹©"æ·»åŠ åˆ°ä¸»å±å¹•"ä»¥è·å¾—å…¨å±ä½“éªŒ');
      });
    } else {
      // é€€å‡ºå…¨å±
      exitFullscreen().catch(err => {
        console.log('é€€å‡ºå…¨å±å¤±è´¥:', err);
      });
    }
  });

  // ç›‘å¬å…¨å±çŠ¶æ€å˜åŒ–ï¼Œæ›´æ–°æŒ‰é’®æ–‡å­—ï¼ˆå…¼å®¹å„æµè§ˆå™¨ï¼‰
  function updateFullscreenButton() {
    if (isFullscreen()) {
      fullscreenBtn.textContent = 'EXIT';
    } else {
      fullscreenBtn.textContent = 'FULL';
    }
  }

  document.addEventListener('fullscreenchange', updateFullscreenButton);
  document.addEventListener('webkitfullscreenchange', updateFullscreenButton);
  document.addEventListener('mozfullscreenchange', updateFullscreenButton);
  document.addEventListener('MSFullscreenChange', updateFullscreenButton);

  // ========== å†…è¾¹è·æ§åˆ¶åŠŸèƒ½ ==========
  const paddingSlider = document.getElementById('paddingSlider');
  const paddingValue = document.getElementById('paddingValue');
  const dashboard = document.querySelector('.dashboard');

  paddingSlider.addEventListener('input', (e) => {
    const value = e.target.value;
    dashboard.style.paddingLeft = `${value}px`;
    dashboard.style.paddingRight = `${value}px`;
    paddingValue.textContent = `${value}px`;
  });

  // ========== ç¼©æ”¾æ§åˆ¶åŠŸèƒ½ ==========
  const scaleSlider = document.getElementById('scaleSlider');
  const scaleValue = document.getElementById('scaleValue');
  const gaugeLeft = document.querySelector('.gauge-left');
  const gaugeRight = document.querySelector('.gauge-right');

  // ç¢°æ’æ£€æµ‹å‡½æ•°
  function checkOverlap() {
    const centerPanel = document.querySelector('.center-panel');
    const leftRect = gaugeLeft.getBoundingClientRect();
    const rightRect = gaugeRight.getBoundingClientRect();
    
    // è·å–å½“å‰æ¿€æ´»çš„è§†å›¾
    const activeView = document.querySelector('.center-panel-normal.active, .center-panel-navi.active');
    if (!activeView) return;
    
    // æ£€æŸ¥è§†å›¾ä¸­çš„æ‰€æœ‰ç›´æ¥å­å…ƒç´ 
    const children = activeView.children;
    
    for (let child of children) {
      const childRect = child.getBoundingClientRect();
      
      // è®¡ç®—ä¸å·¦ä¾§ä»ªè¡¨ç›˜çš„é‡åˆé¢ç§¯
      const leftOverlap = getOverlapArea(childRect, leftRect);
      const leftOverlapPercent = leftOverlap / (childRect.width * childRect.height);
      
      // è®¡ç®—ä¸å³ä¾§ä»ªè¡¨ç›˜çš„é‡åˆé¢ç§¯
      const rightOverlap = getOverlapArea(childRect, rightRect);
      const rightOverlapPercent = rightOverlap / (childRect.width * childRect.height);
      
      // å¦‚æœä»»ä¸€ä¾§é‡åˆè¶…è¿‡50%ï¼Œéšè—å…ƒç´ 
      if (leftOverlapPercent > 0.5 || rightOverlapPercent > 0.5) {
        child.classList.add('hidden-by-overlap');
      } else {
        child.classList.remove('hidden-by-overlap');
      }
    }
  }
  
  // è®¡ç®—ä¸¤ä¸ªçŸ©å½¢çš„é‡åˆé¢ç§¯
  function getOverlapArea(rect1, rect2) {
    const xOverlap = Math.max(0, Math.min(rect1.right, rect2.right) - Math.max(rect1.left, rect2.left));
    const yOverlap = Math.max(0, Math.min(rect1.bottom, rect2.bottom) - Math.max(rect1.top, rect2.top));
    return xOverlap * yOverlap;
  }

  scaleSlider.addEventListener('input', (e) => {
    const value = parseFloat(e.target.value);
    gaugeLeft.style.transform = `scale(${value})`;
    gaugeRight.style.transform = `scale(${value})`;
    scaleValue.textContent = `${value.toFixed(1)}x`;
    
    // å»¶è¿Ÿæ£€æµ‹ä»¥ç¡®ä¿transformå·²åº”ç”¨
    requestAnimationFrame(() => {
      checkOverlap();
    });
  });
  document.querySelector('.fuel-warning').addEventListener('click', () => {
    if (showCtrl == false) {
      showCtrl = true;
      document.querySelector('.padding-control').style.display = 'flex';
      document.querySelector('.scale-control').style.display = 'flex';
      document.getElementById('naviBtn').style.display = 'block';
    } else {
      showCtrl = false;
      document.querySelector('.padding-control').style.display = 'none';
      document.querySelector('.scale-control').style.display = 'none';
      document.getElementById('naviBtn').style.display = 'none';
    }
  })

  // ========== åˆå§‹åŠ¨ç”»æ•ˆæœ ==========
  // é¡µé¢åŠ è½½å®Œæˆåï¼Œ1ç§’åç§»é™¤åˆå§‹ç±»ï¼Œè§¦å‘åŠ¨ç”»
  window.addEventListener('DOMContentLoaded', () => {
    // åˆå§‹æ¿€æ´»æ™®é€šè§†å›¾
    const normalView = document.getElementById('normalView');
    if (normalView) {
      normalView.classList.add('active');
    }
    
    setTimeout(() => {
      // ç§»é™¤æ‰€æœ‰åˆå§‹ç±»
      document.querySelector('.dashboard').classList.remove('dashboard_init');
      document.querySelector('.gauge-left').classList.remove('gauge-left_init');
      document.querySelector('.gauge-right').classList.remove('gauge-right_init');

      // ç§»é™¤æ‰€æœ‰gaugeçš„åˆå§‹ç±»
      document.querySelectorAll('.gauge').forEach(gauge => {
        gauge.classList.remove('gauge_init');
      });
    }, 1000);
  });

  // ========== NaviæŒ‰é’®åˆ‡æ¢æ ·å¼ ==========
  const naviBtn = document.getElementById('naviBtn');
  let isStyle1 = false; // åˆå§‹ä¸ºstyle2ï¼ˆ1ç§’åçš„çŠ¶æ€ï¼‰
  let isNaviMode = false; // Naviæ¨¡å¼æ ‡å¿—

  // è·å–ä¸¤å¥—è§†å›¾
  const normalView = document.getElementById('normalView');
  const naviView = document.getElementById('naviView');

  // åŒæ­¥æ—¶é—´æ˜¾ç¤ºå‡½æ•°
  function syncTimeDisplays() {
    const timeText = document.getElementById('timeDisplay').textContent;
    const weekdayText = document.getElementById('weekday').textContent;
    const dateText = document.getElementById('date-display').textContent;
    
    document.getElementById('timeDisplayNavi').textContent = timeText;
    document.getElementById('weekdayNavi').textContent = weekdayText;
    document.getElementById('dateDisplayNavi').textContent = dateText;
  }

  naviBtn.addEventListener('click', () => {
    const dashboardEl = document.querySelector('.dashboard');
    const gaugeLeftEl = document.querySelector('.gauge-left');
    const gaugeRightEl = document.querySelector('.gauge-right');
    const gaugeEls = document.querySelectorAll('.gauge');

    if (isStyle1) {
      // å½“å‰æ˜¯naviæ¨¡å¼ï¼Œåˆ‡æ¢åˆ°æ™®é€šæ¨¡å¼
      dashboardEl.classList.remove('dashboard_init');
      gaugeLeftEl.classList.remove('gauge-left_init');
      gaugeRightEl.classList.remove('gauge-right_init');
      gaugeEls.forEach(gauge => gauge.classList.remove('gauge_init'));

      // åˆ‡æ¢è§†å›¾
      naviView.classList.remove('active');
      normalView.classList.add('active');

      isStyle1 = false;
      isNaviMode = false;
    } else {
      // å½“å‰æ˜¯æ™®é€šæ¨¡å¼ï¼Œåˆ‡æ¢åˆ°naviæ¨¡å¼
      dashboardEl.classList.add('dashboard_init');
      gaugeLeftEl.classList.add('gauge-left_init');
      gaugeRightEl.classList.add('gauge-right_init');
      gaugeEls.forEach(gauge => gauge.classList.add('gauge_init'));

      // åŒæ­¥æ—¶é—´æ•°æ®
      syncTimeDisplays();
      
      // åˆ‡æ¢è§†å›¾
      normalView.classList.remove('active');
      naviView.classList.add('active');

      isStyle1 = true;
      isNaviMode = true;
    }
  });
  
  // å®šæ—¶åŒæ­¥æ—¶é—´æ˜¾ç¤ºï¼ˆå½“åœ¨naviæ¨¡å¼æ—¶ï¼‰
  setInterval(() => {
    if (isNaviMode) {
      syncTimeDisplays();
    }
  }, 1000);
</script>

</html>
